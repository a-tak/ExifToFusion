# ExifToFusion

DaVinci Resolveで動画や写真のEXIF情報を自動的に取得し、Fusionタイトルとしてタイムラインに追加するPythonスクリプトです。

カメラのメタデータ（機種、レンズ、露出設定など）をテキストオーバーレイとして動画に自動追加でき、写真・動画のチュートリアル、機材レビュー、技術解説動画の制作に最適です。

## 特徴

### 📷 マルチカメラ対応
- **Blackmagic Pocket Cinema Camera (BMPCC)**: BRAWファイルからネイティブメタデータを取得
- **一般的なカメラ**: ExifToolを使用してJPEG、DNG、CinemaDNGシーケンスなど様々な形式に対応

### 🎬 Fusionタイトル自動生成
対応タイトルテンプレート:
- **G_ApertureText** シリーズ (06, 08, 12) - 基本・拡張絞り表示
- **G_CameraExif-Text** - 包括的なEXIF情報表示
- **Text+** - DaVinci Resolve標準テキストツール

### 📊 包括的メタデータ抽出
- カメラモデル・レンズ情報
- 露出設定（絞り、ISO、シャッタースピード）
- ホワイトバランス・色温度
- ピクチャースタイル・撮影モード
- 解像度・コーデック情報
- パナソニック特有のXMLメタデータ

### ⚡ タイムライン自動化
- 指定したトラックにFusionタイトルを自動配置
- ソースクリップと同じ長さでタイトルを生成
- タイムライン位置とシンクロを維持

## 動作環境

### 必須ソフトウェア
- **DaVinci Resolve 19 Studio** (動作確認済み)
- **ExifTool** (コマンドライン版)

### 対応ファイル形式
- **BRAW** (Blackmagic RAW) - ネイティブサポート
- **CinemaDNG** シーケンス - ExifTool経由
- **一般的な写真・動画形式** - ExifTool経由 (JPEG、DNG等)

## インストール

1. **ExifToolのインストール**
   - [ExifTool公式サイト](https://exiftool.org/)からダウンロード
   - コマンドラインから `exiftool` が実行できることを確認

2. **スクリプトの配置**
   - このリポジトリをクローンまたはダウンロード
   - DaVinci Resolveのスクリプトフォルダに配置

3. **Fusionタイトルの準備**
   - 対応するFusionタイトルをメディアプールに作成
   - または既存のテンプレートを使用

## 使用方法

1. **動画クリップをタイムラインに配置**
2. **Fusionタイトルをメディアプールに作成**
3. **Fusionページでスクリプトを実行**
   - ワークスペース > スクリプト > ExifToFusion
4. **設定を選択**
   - ソーストラック（動画クリップがあるトラック）
   - 出力先トラック（タイトルを追加するトラック）
   - 使用するFusionタイトルテンプレート
5. **実行**
   - スクリプトが全クリップを自動処理

## プロジェクト構造

```
ExifToFusion/
├── exif_to_fusion.py          # メインスクリプト
├── lib/
│   └── base.py               # 基底クラスとデータ構造
├── camera/
│   ├── bmpcc.py             # BMPCC専用メタデータ処理
│   └── standard.py          # 一般カメラEXIF処理
└── title/
    ├── g_exiftext.py        # G_ApertureText/G_CameraExif対応
    └── text_plus.py         # Text+対応
```

## 技術仕様

- **プラグインシステム**: カメラタイプ・タイトル形式の拡張が容易
- **エラーハンドリング**: EXIFデータ不備時の適切な処理
- **設定保存**: ユーザー設定のセッション間保持
- **モジュラー設計**: 新しいカメラモデル・タイトル形式の追加が簡単

## 詳細な使い方・トラブルシューティング

詳しい使い方やトラブルシューティングについては、[Wiki](https://github.com/a-tak/ExifToFusion/wiki)をご覧ください。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は[LICENSE](LICENSE)ファイルをご覧ください。
